<script>
  import { Button } from "carbon-components-svelte";
  import Pie from "./Pie.svelte";
  export let title;
  export let desc;
  export let image;
  export let percent;
  export let index;

  const palette = [
    "#2563eb", // blue-600
    "#16a34a", // green-600
    "#dc2626", // red-600
    "#9333ea", // purple-600
    "#f59e0b", // amber-500
    "#0891b2", // cyan-600
  ];
  if (index > palette.length) {
    index = index - palette.length;
  }
  // If parent doesnâ€™t provide color, pick random
  export let color = palette[index];
</script>

<div class=" shadow-lg p-[18px] flex flex-col gap-5 relative my-5">
  <div
    class={`bg-${color}-600  h-[10px] absolute  top-0 left-0 right-0`}
    style={`background:${color}`}
  ></div>
  <div>
    <div>
      <div class="flex">
        <div style="background: {color};" class="p-3 rounded-full">
          <img src={image} alt="" class="h-[30px] w-[30px]" />
        </div>
      </div>
    </div>
    <div>
      <h2 class="font-medium">
        {title}
      </h2>
      <p class="text-left text-[14px]">
        {desc}
      </p>
    </div>
  </div>
  <Pie size={40} stroke={5} {color} percentage={percent} />
</div>
